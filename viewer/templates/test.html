{% extends 'base.html' %}
{% load static %}

{% block extra_head %}
  <title>{{ test_name }}</title>
{% endblock %}

{% block content %}
    <br>
    <h2 class="test-number-header text-centered">{{ test_name }}</h2>
    <div class="text-centered ">
      <div class="progress-wrapper">
          <div class="numbers-container">
            <span class="start-number">{{ user_progress }}</span>
          </div>
          <div class="progress-container">
            <div class="progress-bar" id="myProgressBar"></div>
            <b class="progress-percentage">{{ done_questions_percent }}%</b>
          </div>
          <div class="numbers-container">
            <span class="end-number">{{ remaining_questions }}</span>
          </div>
      </div>
        <h4 class="test-question-header">{{ current_question.question_no}}. {{ current_question.question_text }}</h4>
        <div class="column-container-test">
            <button id="question-a" class="question-select-button" onclick="checkAnswer('{{ current_question.id }}', 'answer_a')">a) {{ current_question.answer_a }}</button>
            <button id="question-b" class="question-select-button" onclick="checkAnswer('{{ current_question.id }}', 'answer_b')">b) {{ current_question.answer_b }}</button>
            <button id="question-c" class="question-select-button" onclick="checkAnswer('{{ current_question.id }}', 'answer_c')">c) {{ current_question.answer_c }}</button>
        </div>
        <div class="previous-next-buttons">
            <button class="next-question-button btn btn-outline-primary initially-hidden" id="nextButton" onclick="nextQuestion()">Ďalšia otázka</button>
        </div>

        <div class="cancel-test-button-container">
            <button class="cancel-test-button btn btn-outline-danger" onclick="cancelTestConfirmation()">Zrušiť test</button>
        </div>
    </div>
{% endblock %}

{% block extra_scripts %}
    <script>
        var remaining_questions = '{{ remaining_questions }}';
        var percentage = {{ done_questions_percent }};
        var question_num = {{ current_question.question_no }};
    </script>
    <script src="{% static 'scripts/test.js' %}"></script>
{% endblock %}